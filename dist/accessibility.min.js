let accessibilityInitialized=!1;export function initAccessibility(){accessibilityInitialized&&cleanupAccessibility(),console.log("â™¿ Inicializando sistema de acessibilidade"),createAccessibilityButtons(),loadAccessibilityPreferences(),setupKeyboardNavigation(),accessibilityInitialized=!0}function createAccessibilityButtons(){const e=document.querySelector(".accessibility-panel");e&&e.remove();const t=document.createElement("div");t.className="accessibility-panel",t.innerHTML='<button class="btn-accessibility" id="toggle-dark-mode" aria-label="Alternar modo escuro">ðŸŒ™</button><button class="btn-accessibility" id="toggle-high-contrast" aria-label="Alternar alto contraste">âš«âšª</button>',document.body.appendChild(t),document.getElementById("toggle-dark-mode")?.addEventListener("click",toggleDarkMode),document.getElementById("toggle-high-contrast")?.addEventListener("click",toggleHighContrast)}function toggleDarkMode(){const e=document.documentElement,t=e.classList.toggle("dark-mode");localStorage.setItem("theme",t?"dark":"light"),announce(`Modo ${t?"escuro":"claro"} ativado`)}function toggleHighContrast(){const e=document.documentElement,t=e.classList.toggle("high-contrast-mode");localStorage.setItem("contrast",t?"high":"normal"),announce(`Modo ${t?"alto contraste":"padrÃ£o"} ativado`)}function loadAccessibilityPreferences(){const e=localStorage.getItem("theme"),t=localStorage.getItem("contrast");"dark"===e&&document.documentElement.classList.add("dark-mode"),"high"===t&&document.documentElement.classList.add("high-contrast-mode"),window.matchMedia("(prefers-color-scheme: dark)").matches&&!e&&document.documentElement.classList.add("dark-mode"),window.matchMedia("(prefers-contrast: more)").matches&&!t&&document.documentElement.classList.add("high-contrast-mode")}function setupKeyboardNavigation(){document.addEventListener("keydown",e=>{"Tab"===e.key&&document.body.classList.add("user-is-tabbing")})}function announce(e){let t=document.getElementById("aria-live-region");t||(t=document.createElement("div"),t.id="aria-live-region",t.setAttribute("aria-live","polite"),t.classList.add("sr-only"),document.body.appendChild(t)),t.textContent=e}function cleanupAccessibility(){const e=document.querySelector(".accessibility-panel");e&&e.remove(),document.getElementById("toggle-dark-mode")?.removeEventListener("click",toggleDarkMode),document.getElementById("toggle-high-contrast")?.removeEventListener("click",toggleHighContrast),accessibilityInitialized=!1}document.addEventListener("pageRendered",()=>{setTimeout(()=>{initAccessibility()},100)});
