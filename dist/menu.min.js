let menuInitialized=false;let aberto=false;let menuBtn=null;let nav=null;let overlay=null;export function initMenu(){if(menuInitialized){cleanup();}console.log('üçî Inicializando menu responsivo');const header=document.querySelector('header');nav=document.querySelector('nav');if(!header||!nav){console.warn('‚ö†Ô∏è Header ou nav n√£o encontrados');return;}menuBtn=document.createElement('button');menuBtn.className='menu-toggle';menuBtn.setAttribute('aria-label','Menu de navega√ß√£o');menuBtn.innerHTML='<span></span><span></span><span></span>';header.insertBefore(menuBtn,nav);overlay=document.createElement('div');overlay.className='menu-overlay';overlay.style.pointerEvents='none';document.body.appendChild(overlay);menuBtn.addEventListener('click',handleMenuToggle);document.addEventListener('click',handleClickOutside);document.addEventListener('keydown',handleEscKey);const links=nav.querySelectorAll('a');links.forEach(link=>{link.style.pointerEvents='auto';link.style.position='relative';link.style.zIndex='999999';link.addEventListener('click',handleLinkClick);});menuInitialized=true;}function handleMenuToggle(e){e.stopPropagation();if(aberto){fechar();}else{abrir();}}function abrir(){aberto=true;nav.classList.add('active');overlay.classList.add('active');document.body.style.overflow='hidden';console.log('üìñ Menu aberto');}function fechar(){aberto=false;nav.classList.remove('active');overlay.classList.remove('active');document.body.style.overflow='';console.log('üìï Menu fechado');}function handleClickOutside(e){if(!aberto)return;if(!nav.contains(e.target)&&!menuBtn.contains(e.target)){fechar();}}function handleEscKey(e){if(e.key==='Escape'&&aberto){fechar();}}function handleLinkClick(){if(aberto){fechar();}}function cleanup(){if(menuBtn){menuBtn.removeEventListener('click',handleMenuToggle);menuBtn.remove();}if(overlay){overlay.remove();}document.removeEventListener('click',handleClickOutside);document.removeEventListener('keydown',handleEscKey);menuInitialized=false;aberto=false;}document.addEventListener('pageRendered',()=>{setTimeout(()=>{initMenu();},100);});