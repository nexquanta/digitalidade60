/* Temas de acessibilidade (Modo Claro, Escuro e Alto Contraste) */

/* MODO CLARO (Light Mode) - PADRÃO */

/* Garantir que no modo claro os títulos dos cards sejam sempre visíveis */
body:not(.dark-mode):not(.high-contrast-mode) section:first-of-type h1,
body:not(.dark-mode):not(.high-contrast-mode) article h2,
body:not(.dark-mode):not(.high-contrast-mode) .missao-card h2,
body:not(.dark-mode):not(.high-contrast-mode) .fale-conosco-card h2,
body:not(.dark-mode):not(.high-contrast-mode) .como-participar-card h2,
body:not(.dark-mode):not(.high-contrast-mode) .cadastro-intro h1 {
  color: #ffffff !important;
}

body:not(.dark-mode):not(.high-contrast-mode) section:first-of-type p,
body:not(.dark-mode):not(.high-contrast-mode) article p,
body:not(.dark-mode):not(.high-contrast-mode) .missao-card p,
body:not(.dark-mode):not(.high-contrast-mode) .fale-conosco-card p,
body:not(.dark-mode):not(.high-contrast-mode) .como-participar-card p,
body:not(.dark-mode):not(.high-contrast-mode) .cadastro-intro p {
  color: #e5e5e5 !important;
}

/* MODO ESCURO (Dark Mode) */

.dark-mode:not(.high-contrast-mode) {
  --color-bg-primary: #1a1a1a;
  --color-bg-secondary: #2d2d2d;
  --color-bg-tertiary: #3a3a3a;
  --color-bg-dark: #0a0a0a;
  
  --color-text-primary: #ffffff;
  --color-text-secondary: #e5e5e5;
  --color-text-tertiary: #b3b3b3;
  --color-text-inverse: #1a1a1a;
  
  --color-neutral-50: #525252;
  --color-neutral-100: #404040;
  --color-neutral-200: #373737;
  --color-neutral-300: #525252;
  --color-neutral-400: #737373;
  --color-neutral-500: #a3a3a3;
  --color-neutral-600: #d4d4d4;
  --color-neutral-700: #e5e5e5;
  --color-neutral-800: #f5f5f5;
  --color-neutral-900: #fafafa;
  
  --color-primary-400: #ff5580;
  --color-primary-500: #ff3366;
  --color-primary-600: #ff6690;
  
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 8px -2px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.2);
  --shadow-lg: 0 10px 20px -5px rgba(0, 0, 0, 0.5), 0 4px 8px -3px rgba(0, 0, 0, 0.3);
  --shadow-xl: 0 20px 30px -8px rgba(0, 0, 0, 0.6), 0 8px 12px -5px rgba(0, 0, 0, 0.4);
  --shadow-2xl: 0 25px 50px -12px rgba(0, 0, 0, 0.8);
}

.dark-mode:not(.high-contrast-mode) body {
  background-color: #2d2d2d;
  color: #e5e5e5;
}

.dark-mode:not(.high-contrast-mode) header {
  background: #0a0a0a;
  border-bottom-color: var(--color-primary-500);
}

.dark-mode:not(.high-contrast-mode) nav a {
  color: #e5e5e5;
}

.dark-mode:not(.high-contrast-mode) nav a:hover {
  color: var(--color-primary-400);
  background-color: rgba(255, 255, 255, 0.05);
}

.dark-mode:not(.high-contrast-mode) section:first-of-type,
.dark-mode:not(.high-contrast-mode) .missao-card,
.dark-mode:not(.high-contrast-mode) .fale-conosco-card,
.dark-mode:not(.high-contrast-mode) .como-participar-card,
.dark-mode:not(.high-contrast-mode) .cadastro-intro {
  background: #1a1a1a;
  border-color: var(--color-primary-500);
}

.dark-mode:not(.high-contrast-mode) article,
.dark-mode:not(.high-contrast-mode) .card {
  background: #1a1a1a;
  border-color: var(--color-primary-500);
}

.dark-mode:not(.high-contrast-mode) h1,
.dark-mode:not(.high-contrast-mode) h2,
.dark-mode:not(.high-contrast-mode) h3,
.dark-mode:not(.high-contrast-mode) h4,
.dark-mode:not(.high-contrast-mode) h5,
.dark-mode:not(.high-contrast-mode) h6 {
  color: #ffffff;
}

.dark-mode:not(.high-contrast-mode) p,
.dark-mode:not(.high-contrast-mode) li {
  color: #e5e5e5;
}

.dark-mode:not(.high-contrast-mode) input,
.dark-mode:not(.high-contrast-mode) select,
.dark-mode:not(.high-contrast-mode) textarea {
  background: #2d2d2d;
  border-color: #525252;
  color: #ffffff;
}

.dark-mode:not(.high-contrast-mode) input:focus,
.dark-mode:not(.high-contrast-mode) select:focus,
.dark-mode:not(.high-contrast-mode) textarea:focus {
  border-color: var(--color-primary-400);
  box-shadow: 0 0 0 3px rgba(255, 51, 102, 0.2);
}

.dark-mode:not(.high-contrast-mode) input::placeholder {
  color: #737373;
}

.dark-mode:not(.high-contrast-mode) fieldset {
  border-color: #525252;
  background: linear-gradient(to bottom, #1a1a1a, #2d2d2d);
}

.dark-mode:not(.high-contrast-mode) legend {
  color: var(--color-primary-400);
}

.dark-mode:not(.high-contrast-mode) footer {
  background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%);
}

/* MODO ALTO CONTRASTE (High Contrast Mode) */

.high-contrast-mode {
  --color-bg-primary: #000000;
  --color-bg-secondary: #000000;
  --color-bg-tertiary: #000000;
  --color-bg-dark: #000000;
  
  --color-text-primary: #ffffff;
  --color-text-secondary: #ffffff;
  --color-text-tertiary: #ffffff;
  --color-text-inverse: #000000;
  
  --color-neutral-50: #000000;
  --color-neutral-100: #000000;
  --color-neutral-200: #ffffff;
  --color-neutral-300: #ffffff;
  --color-neutral-400: #ffffff;
  --color-neutral-500: #ffffff;
  --color-neutral-600: #ffffff;
  --color-neutral-700: #ffffff;
  --color-neutral-800: #ffffff;
  --color-neutral-900: #000000;
  
  --color-primary-400: #ffff00;
  --color-primary-500: #ffff00;
  --color-primary-600: #ffff00;
  --color-primary-700: #ffff00;
  
  --shadow-sm: none;
  --shadow-md: none;
  --shadow-lg: none;
  --shadow-xl: none;
  --shadow-2xl: none;
}

.high-contrast-mode body {
  background-color: #000000 !important;
  color: #ffffff !important;
}

.high-contrast-mode header {
  background: #000000 !important;
  border-bottom: 3px solid #ffff00 !important;
}

.high-contrast-mode nav a {
  color: #ffffff !important;
  border: 2px solid #ffffff !important;
}

.high-contrast-mode nav a:hover,
.high-contrast-mode nav a:focus {
  background-color: #ffff00 !important;
  color: #000000 !important;
  border-color: #ffff00 !important;
}

.high-contrast-mode section:first-of-type,
.high-contrast-mode .missao-card,
.high-contrast-mode .fale-conosco-card,
.high-contrast-mode .como-participar-card,
.high-contrast-mode .cadastro-intro {
  background: #000000 !important;
  border: 3px solid #ffff00 !important;
}

.high-contrast-mode article,
.high-contrast-mode .card {
  background: #000000 !important;
  border: 3px solid #ffff00 !important;
}

.high-contrast-mode h1,
.high-contrast-mode h2,
.high-contrast-mode h3,
.high-contrast-mode h4,
.high-contrast-mode h5,
.high-contrast-mode h6 {
  color: #ffff00 !important;
}

.high-contrast-mode p,
.high-contrast-mode li {
  color: #ffffff !important;
}

.high-contrast-mode strong {
  color: #ffff00 !important;
}

.high-contrast-mode input,
.high-contrast-mode select,
.high-contrast-mode textarea {
  background: #000000 !important;
  border: 2px solid #ffffff !important;
  color: #ffffff !important;
}

.high-contrast-mode input:focus,
.high-contrast-mode select:focus,
.high-contrast-mode textarea:focus {
  border-color: #ffff00 !important;
  outline: 3px solid #ffff00 !important;
}

.high-contrast-mode button {
  background: #000000 !important;
  color: #ffff00 !important;
  border: 2px solid #ffff00 !important;
}

.high-contrast-mode button:hover,
.high-contrast-mode button:focus {
  background: #ffff00 !important;
  color: #000000 !important;
}

.high-contrast-mode fieldset {
  border: 3px solid #ffff00 !important;
  background: #000000 !important;
}

.high-contrast-mode legend {
  color: #ffff00 !important;
}

.high-contrast-mode footer {
  background: #000000 !important;
  border-top: 3px solid #ffff00 !important;
}

/* BOTÕES DE CONTROLE DE TEMA */

header {
  position: relative;
}

.accessibility-controls {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  display: flex;
  flex-direction: row;
  gap: 0.5rem;
  align-items: center;
  justify-content: center;
  z-index: 10;
}

.theme-toggle-btn,
.contrast-toggle-btn {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.5rem 1rem;
  background: rgba(255, 255, 255, 0.1);
  border: 2px solid rgba(255, 255, 255, 0.2);
  border-radius: 8px;
  color: #ffffff;
  font-size: 0.875rem;
  font-weight: 500;
  line-height: 1;
  cursor: pointer;
  transition: all 0.3s ease;
  height: 40px;
  min-height: 40px;
}

.theme-toggle-btn:hover,
.theme-toggle-btn:focus,
.contrast-toggle-btn:hover,
.contrast-toggle-btn:focus {
  background: var(--color-primary-500);
  border-color: var(--color-primary-500);
  color: white;
  transform: translateY(-2px);
  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
}

.theme-toggle-btn svg,
.contrast-toggle-btn svg {
  flex-shrink: 0;
}

.theme-label,
.contrast-label {
  white-space: nowrap;
}

/* Alto contraste: botões amarelos */
.high-contrast-mode .theme-toggle-btn,
.high-contrast-mode .contrast-toggle-btn {
  background: #000000 !important;
  border-color: #ffff00 !important;
  color: #ffff00 !important;
}

.high-contrast-mode .theme-toggle-btn:hover,
.high-contrast-mode .theme-toggle-btn:focus,
.high-contrast-mode .contrast-toggle-btn:hover,
.high-contrast-mode .contrast-toggle-btn:focus {
  background: #ffff00 !important;
  color: #000000 !important;
}

/* Foco visível para usuários de teclado */
.user-is-tabbing *:focus {
  outline: 3px solid var(--color-primary-500);
  outline-offset: 3px;
}

.high-contrast-mode.user-is-tabbing *:focus {
  outline: 3px solid #ffff00 !important;
}

/* Skip link */
.skip-to-content {
  position: absolute;
  top: -100px;
  left: 0;
  background: var(--color-primary-600);
  color: white;
  padding: 1rem 1.5rem;
  z-index: 10000;
  border-radius: 0 0 8px 0;
  font-weight: 600;
  transition: top 0.2s ease;
}

.skip-to-content:focus {
  top: 0;
  outline: 3px solid white;
  outline-offset: 3px;
}

.high-contrast-mode .skip-to-content {
  background: #ffff00 !important;
  color: #000000 !important;
}

/* Responsivo */
@media (max-width: 768px) {
  .accessibility-controls {
    position: fixed;
    bottom: 1rem;
    right: 1rem;
    left: auto;
    top: auto;
    transform: none;
    flex-direction: column;
    z-index: 1000;
    gap: 0.5rem;
  }
  
  .theme-label,
  .contrast-label {
    display: none;
  }
  
  .theme-toggle-btn,
  .contrast-toggle-btn {
    width: 56px;
    height: 56px;
    padding: 1rem;
    justify-content: center;
    border-radius: 50%;
    background: var(--color-primary-600);
    border-color: var(--color-primary-600);
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
  }
  
  .high-contrast-mode .theme-toggle-btn,
  .high-contrast-mode .contrast-toggle-btn {
    background: #000000 !important;
    border: 3px solid #ffff00 !important;
  }
  
  .theme-toggle-btn:active,
  .contrast-toggle-btn:active {
    transform: scale(0.95);
  }
}

/* Preferências do sistema */
@media (prefers-color-scheme: dark) {
  :root:not(.dark-mode):not(.high-contrast-mode) {background-color: #fff;
  color: #000;}
}

/* Reduzir movimento para acessibilidade */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
}

/* PAINEL DE ACESSIBILIDADE (ESTILO ORIGINAL) */
.accessibility-panel {
  position: fixed;
  bottom: 1.5rem;
  left: 1.5rem;
  display: flex;
  flex-direction: column;
  gap: 0.5rem;
  z-index: 9999;
  background: transparent;
}

.btn-accessibility {
  background-color: rgba(255, 255, 255, 0.15);
  color: #fff;
  border: 1px solid rgba(255, 255, 255, 0.3);
  border-radius: 8px;
  width: 42px;
  height: 42px;
  font-size: 1.25rem;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  transition: all 0.2s ease;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
}

.btn-accessibility:hover {
  background-color: rgba(255, 255, 255, 0.25);
  transform: translateY(-2px);
}

.dark-mode .btn-accessibility {
  background-color: rgba(255, 255, 255, 0.1);
  color: #fff;
  border: 1px solid rgba(255, 255, 255, 0.2);
}

.high-contrast-mode .btn-accessibility {
  background-color: #000;
  color: #ff0;
  border: 2px solid #ff0;
}

.btn-accessibility:focus {
  outline: 2px solid #ff0050;
  outline-offset: 3px;
}

/* MENU HAMBÚRGUER - ALTO CONTRASTE */
.high-contrast-mode .menu-toggle span {
  background-color: #ff0 !important;
}

/* Caso o botão tenha animações ou transformações (hambúrguer ativo) */
.high-contrast-mode .menu-toggle.active span {
  background-color: #ff0 !important;
}

/* BORDAS AMARELAS - MODO ALTO CONTRASTE */
.high-contrast-mode button,
.high-contrast-mode .btn,
.high-contrast-mode .menu-toggle,
.high-contrast-mode .card,
.high-contrast-mode input,
.high-contrast-mode select,
.high-contrast-mode textarea {
  border: 2px solid #ff0 !important;
  color: #fff !important;
  background-color: #000 !important;
}

/* Bordas dos botões dentro do menu (links simulando botões) */
.high-contrast-mode nav a,
.high-contrast-mode nav button {
  border: 2px solid #ff0 !important;
  color: #ff0 !important;
}

/* Bordas dos cards e containers */
.high-contrast-mode .card,
.high-contrast-mode .section,
.high-contrast-mode .container {
  border: 2px solid #ff0 !important;
}

/* Ao passar o mouse ou focar */
.high-contrast-mode button:hover,
.high-contrast-mode .btn:hover,
.high-contrast-mode nav a:hover,
.high-contrast-mode nav button:hover,
.high-contrast-mode input:focus,
.high-contrast-mode select:focus,
.high-contrast-mode textarea:focus {
  border-color: #fff !important;
  color: #fff !important;
  background-color: #111 !important;
}

/* MODO ESCURO - MENU MOBILE AJUSTADO */
@media (max-width: 768px) {
  .dark-mode:not(.high-contrast-mode) nav {
    background-color: #1a1a1a !important; /* Fundo mais escuro */
  }

  .dark-mode:not(.high-contrast-mode) nav a,
  .dark-mode:not(.high-contrast-mode) nav button {
    background-color: #333 !important; /* Botões visíveis sobre o fundo */
    color: #f5f5f5 !important;
    border: 1px solid #f06292 !important; /* Rosa - identidade visual da página */
    transition: all 0.25s ease;
  }

  /* Hover ou toque */
  .dark-mode:not(.high-contrast-mode) nav a:hover,
  .dark-mode:not(.high-contrast-mode) nav button:hover,
  .dark-mode:not(.high-contrast-mode) nav a:active,
  .dark-mode:not(.high-contrast-mode) nav button:active {
    background-color: #f06292 !important; /* Rosa no hover */
    color: #000 !important; /* Contraste forte no texto */
    border-color: #f06292 !important;
  }
}

/* CORREÇÃO: MODO CLARO MOBILE - MENU LATERAL CLARO */

@media (max-width: 768px) {
  /* Forçar menu lateral CLARO no modo claro */
  html:not(.dark-mode):not(.high-contrast-mode) nav {
    background-color: #f5f5f5 !important;
    background-image: none !important;
  }

  /* Links com fundo BRANCO e texto PRETO */
  html:not(.dark-mode):not(.high-contrast-mode) nav a,
  html:not(.dark-mode):not(.high-contrast-mode) nav button {
    background-color: #ffffff !important;
    color: #1a1a1a !important;
    border: 2px solid #e0e0e0 !important;
  }

  /* Hover: fundo ROSA com texto BRANCO */
  html:not(.dark-mode):not(.high-contrast-mode) nav a:hover,
  html:not(.dark-mode):not(.high-contrast-mode) nav button:hover,
  html:not(.dark-mode):not(.high-contrast-mode) nav a:active,
  html:not(.dark-mode):not(.high-contrast-mode) nav button:active {
    background-color: #ff3366 !important;
    color: #ffffff !important;
    border-color: #ff3366 !important;
  }
  
  /* Dropdown items no modo claro mobile */
  html:not(.dark-mode):not(.high-contrast-mode) .dropdown-item {
    background-color: rgba(0, 0, 0, 0.03) !important;
    color: #1a1a1a !important;
    border-left-color: #ff3366 !important;
  }
  
  html:not(.dark-mode):not(.high-contrast-mode) .dropdown-item:hover {
    background-color: #ffe5f0 !important;
    color: #ff3366 !important;
  }
}